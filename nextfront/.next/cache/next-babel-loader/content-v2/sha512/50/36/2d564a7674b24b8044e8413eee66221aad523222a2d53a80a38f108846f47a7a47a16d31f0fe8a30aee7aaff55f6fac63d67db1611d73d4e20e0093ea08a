{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/trex/Desktop/practiceapp/personaldetailsfull/nextfront/components/personadetails.component.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport Link from 'next/link';\nimport { Form, Button, Modal } from 'react-bootstrap'; // import AddressComponents from './address.component';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport FormInput from './form-input.component';\nimport AddressBox from './addressbox.component';\nimport '../styles/globals';\nconst emailRegex = RegExp(/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/);\nconst mobilenumberRegex = RegExp(/^[0]?[6789]\\d{9}$/);\nconst dobRegex = RegExp(/^\\d{4}-\\d{1,2}-\\d{1,2}$/);\n\nconst formValid = (_ref) => {\n  let {\n    formErrors\n  } = _ref,\n      rest = _objectWithoutProperties(_ref, [\"formErrors\"]);\n\n  let valid = true;\n  Object.values(formErrors).forEach(val => {\n    val.length > 0 && (valid = false);\n  });\n  Object.values(rest).forEach(val => {\n    val === null && (valid = false);\n  });\n  return valid;\n};\n\nvar addressboxcount = 0;\nconst addressArray = {\n  id: '',\n  address: '',\n  city: '',\n  country: '',\n  state: '',\n  stateid: '',\n  zipcode: '',\n  formErrors: {\n    address: '',\n    city: '',\n    country: '',\n    state: '',\n    zipcode: ''\n  }\n};\n\nclass PersonalDetailsFormComponents extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"handleSubmit\", async e => {\n      e.preventDefault();\n      console.log(\"this.state ==>\", this.state);\n      this.props.userauth();\n      console.log(\"this.props.auth==>\", this.props.auth);\n\n      if (this.props.auth === true) {\n        if (formValid(this.state)) {\n          console.log(\"submitcalled\");\n          fetch('http://127.0.0.1:5000/users/create', {\n            method: 'POST',\n            headers: {\n              'Content-type': 'application/json'\n            },\n            body: JSON.stringify(this.state)\n          }).then(r => r.json()).then(res => {\n            if (res) {\n              console.log(\"response==>\", res); // this.setState({ show: true })\n\n              let data = new FormData();\n              data.append(\"file\", this.state.file[0]);\n              console.log(\"data==>\", this.state.file[0]);\n              fetch(`http://127.0.0.1:5000/users/upload/image/${res}`, {\n                method: 'POST',\n                headers: {},\n                body: data\n              }).then(r => r.json()).then(res => {\n                if (res) {\n                  this.setState({\n                    show: true\n                  });\n                  console.log(\"response==>\", res);\n                }\n              });\n            }\n          });\n        } else {\n          console.error(\"FORM INVALID - DISPLAY ERROR MESSAGE\");\n        }\n      } // console.log(\"userauth data ========>\",this.props.userauth)\n\n    });\n\n    _defineProperty(this, \"handleChange\", e => {\n      // e.preventDefault();\n      const {\n        name,\n        value\n      } = e.target;\n\n      let formErrors = _objectSpread({}, this.state.formErrors);\n\n      switch (name) {\n        case \"firstname\":\n          formErrors.firstname = value.length < 3 ? \"Minimum 3 characaters required!\" : \"\";\n          break;\n\n        case \"lastname\":\n          formErrors.lastname = value.length < 3 ? \"Minimum 3 characaters required!\" : \"\";\n          break;\n\n        case \"email\":\n          formErrors.email = emailRegex.test(value) ? \"\" : \"Please Enter a valid Email Id\";\n          break;\n\n        case \"mobilenumber\":\n          formErrors.mobilenumber = mobilenumberRegex.test(value) ? \"\" : \"Please Enter a Valid 10 Digit Mobile Number\";\n          break;\n\n        case \"dob\":\n          formErrors.dob = dobRegex.test(value) ? \"\" : \"Please Enter Valid Date Of Birth\";\n          break;\n\n        case \"maritalstatus\":\n          formErrors.maritalstatus = value === \"\" ? \"Please Select Marital Status!\" : \"\";\n          break;\n\n        default:\n          break;\n      }\n\n      this.setState({\n        formErrors,\n        [name]: value\n      }, () => console.log(this.state));\n    });\n\n    _defineProperty(this, \"handleFileChange\", e => {\n      const {\n        name,\n        files\n      } = e.target;\n      this.setState({\n        file: files\n      });\n    });\n\n    _defineProperty(this, \"addaddressbox\", () => {\n      const val = this.state.addressBoxList;\n      addressboxcount += 1;\n      val.push(addressArray);\n      this.setState({\n        addressBoxList: val\n      });\n      this.setState({\n        rowlen: val.length\n      });\n      console.log(\"address box count\", addressboxcount);\n      console.log(\"address box array\", this.state.addressBoxList);\n    });\n\n    _defineProperty(this, \"removeaddressbox\", () => {\n      const val = this.state.addressBoxList;\n      val.splice(-1);\n      addressboxcount -= 1;\n      this.setState({\n        addressBoxList: val\n      });\n      this.setState({\n        rowlen: val.length\n      });\n      console.log(\"address box count\", addressboxcount);\n      console.log(\"address box array\", this.state.addressBoxList);\n    });\n\n    _defineProperty(this, \"handleAddressChange\", e => {\n      // e.preventDefault();\n      const {\n        name,\n        value\n      } = e.target;\n\n      let formErrors = _objectSpread({}, this.state.formErrors);\n\n      switch (name) {\n        case \"address\":\n          formErrors.address = value.length < 6 ? \"Please Enter Valid Address!\" : \"\";\n          break;\n\n        case \"city\":\n          formErrors.city = value.length < 4 ? \"Please Enter Valid City!\" : \"\";\n          break;\n\n        case \"zipcode\":\n          formErrors.zipcode = value.length < 4 || value.length > 9 || /[0-9]/.test(value) === false ? \"Please Enter Valid ZipCode!\" : \"\";\n          break;\n\n        default:\n          break;\n      }\n\n      this.setState({\n        formErrors,\n        [name]: value\n      }, () => console.log(this.state));\n    });\n\n    _defineProperty(this, \"handleChildState\", (state, item) => {\n      console.log(\"address state  =>\", state);\n      console.log(\"address item  =>\", item);\n      this.setState(update(this.state, {\n        addressBoxList: {\n          [item]: {\n            $set: state\n          }\n        }\n      }));\n    });\n\n    this.state = {\n      file: null,\n      firstname: '',\n      lastname: '',\n      mobilenumber: '',\n      email: '',\n      dob: '',\n      gender: '',\n      maritalstatus: '',\n      termsandconditions: false,\n      show: false,\n      formErrors: {\n        firstname: '',\n        lastname: '',\n        mobilenumber: '',\n        email: '',\n        dob: '',\n        gender: '',\n        maritalstatus: '',\n        termsandconditions: ''\n      },\n      addressBoxList: [{\n        id: '',\n        address: '',\n        city: '',\n        country: '',\n        state: '',\n        stateid: '',\n        zipcode: '',\n        formErrors: {\n          address: '',\n          city: '',\n          country: '',\n          state: '',\n          zipcode: ''\n        }\n      }]\n    };\n  }\n\n  render() {\n    const {\n      formErrors\n    } = this.state;\n    const statedata = this.state;\n\n    const handleClose = () => this.setState({\n      show: false\n    });\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: this.handleSubmit,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-div row\",\n          children: [/*#__PURE__*/_jsxDEV(FormInput, {\n            className: \"col-md-4\",\n            label: \"User Image\",\n            name: \"file\",\n            type: \"file\",\n            placeholder: \"Select User image\",\n            onChange: this.handleFileChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n            className: \"col-md-4\",\n            inputClassName: formErrors.firstname.length > 0 ? \"error\" : \"\",\n            label: \"First Name\",\n            name: \"firstname\",\n            type: \"text\",\n            placeholder: \"Enter First Name\",\n            errorMessage: formErrors.firstname.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"errormessage\",\n              children: formErrors.firstname\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 79\n            }, this),\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n            className: \"col-md-4\",\n            inputClassName: formErrors.lastname.length > 0 ? \"error\" : \"\",\n            errorMessage: formErrors.lastname.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"errormessage\",\n              children: formErrors.lastname\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 78\n            }, this),\n            onChange: this.handleChange,\n            label: \"Last Name\",\n            name: \"lastname\",\n            type: \"text\",\n            placeholder: \"Enter Last Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n            className: \"col-md-4\",\n            inputClassName: formErrors.mobilenumber.length > 0 ? \"error\" : \"\",\n            errorMessage: formErrors.mobilenumber.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"errormessage\",\n              children: formErrors.mobilenumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 82\n            }, this),\n            onChange: this.handleChange,\n            label: \"Mobile Number\",\n            name: \"mobilenumber\",\n            type: \"tel\",\n            placeholder: \"Enter Mobile Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n            className: \"col-md-4\",\n            inputClassName: formErrors.email.length > 0 ? \"error\" : \"\",\n            errorMessage: formErrors.email.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"errormessage\",\n              children: formErrors.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 75\n            }, this),\n            label: \"Email\",\n            name: \"email\",\n            type: \"email\",\n            placeholder: \"Enter Email Id\",\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n            className: \"col-md-2\",\n            label: \"Date of Birth\",\n            name: \"dob\",\n            type: \"date\",\n            placeholder: \"Date of Birth\",\n            inputClassName: formErrors.dob.length > 0 ? \"error\" : \"\",\n            onChange: this.handleChange,\n            errorMessage: formErrors.dob.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"errormessage\",\n              children: formErrors.dob\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 73\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"col-md-2\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Gender\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Form.Check, {\n                inline: \"true\",\n                className: \"box\",\n                type: \"radio\",\n                id: \"male\",\n                name: \"gender\",\n                value: \"male\",\n                onChange: this.handleChange,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n                inline: \"true\",\n                htmlFor: \"male\",\n                className: \"label1\",\n                children: \"Male\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Check, {\n                inline: \"true\",\n                id: \"female\",\n                type: \"radio\",\n                name: \"gender\",\n                value: \"female\",\n                onChange: this.handleChange,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n                inline: \"true\",\n                htmlFor: \"female\",\n                className: \"label2\",\n                children: \"Female\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"col-md-4\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Marital Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              name: \"maritalstatus\",\n              as: \"select\",\n              className: formErrors.maritalstatus.length > 0 ? \"error\" : \"\",\n              onChange: this.handleChange,\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"---Select Marital Status---\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"single\",\n                children: \"Single\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"married\",\n                children: \"Married\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 29\n            }, this), formErrors.maritalstatus.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"errormessage\",\n              children: formErrors.maritalstatus\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 70\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 25\n          }, this), this.state.addressBoxList.map((key, item) => /*#__PURE__*/_jsxDEV(AddressBox, {\n            item: item,\n            handleChildState: this.handleChildState.bind(this),\n            addaddressbox: this.addaddressbox,\n            statedata: statedata,\n            handleAddressChange: () => this.handleAddressChange(item),\n            removeaddressbox: this.removeaddressbox,\n            rowlength: this.state.rowlen\n          }, key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 29\n          }, this)), /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Check, {\n              type: \"checkbox\",\n              id: \"termsandconditions\",\n              inline: \"true\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n              htmlFor: \"termsandconditions\",\n              inline: \"true\",\n              name: \"termsandconditions\",\n              children: \"Agree to terms & conditions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"button-div\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              className: \"submit-button\",\n              type: \"submit\",\n              children: \"Submit Form\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              href: \"/search\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                className: \"submit-button\",\n                variant: \"info\",\n                style: {\n                  marginLeft: \"15px\"\n                },\n                children: \"Search Users By State\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        show: this.state.show,\n        onHide: handleClose,\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            children: \"Report\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: [\"New User \", this.state.firstname, \" \", this.state.lastname, \" is Created.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: handleClose,\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default PersonalDetailsFormComponents;","map":{"version":3,"sources":["/home/trex/Desktop/practiceapp/personaldetailsfull/nextfront/components/personadetails.component.js"],"names":["React","Link","Form","Button","Modal","FormInput","AddressBox","emailRegex","RegExp","mobilenumberRegex","dobRegex","formValid","formErrors","rest","valid","Object","values","forEach","val","length","addressboxcount","addressArray","id","address","city","country","state","stateid","zipcode","PersonalDetailsFormComponents","Component","constructor","props","e","preventDefault","console","log","userauth","auth","fetch","method","headers","body","JSON","stringify","then","r","json","res","data","FormData","append","file","setState","show","error","name","value","target","firstname","lastname","email","test","mobilenumber","dob","maritalstatus","files","addressBoxList","push","rowlen","splice","item","update","$set","gender","termsandconditions","render","statedata","handleClose","handleSubmit","handleFileChange","handleChange","map","key","handleChildState","bind","addaddressbox","handleAddressChange","removeaddressbox","marginLeft"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Link from 'next/link';\nimport { Form, Button, Modal } from 'react-bootstrap';\n// import AddressComponents from './address.component';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport FormInput from './form-input.component';\nimport AddressBox from './addressbox.component';\nimport '../styles/globals';\n\n\n\n\nconst emailRegex = RegExp(\n    /^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\n);\n\nconst mobilenumberRegex = RegExp(/^[0]?[6789]\\d{9}$/);\n\nconst dobRegex = RegExp(/^\\d{4}-\\d{1,2}-\\d{1,2}$/);\n\nconst formValid = ({ formErrors, ...rest }) => {\n    let valid = true;\n\n\n    Object.values(formErrors).forEach(val => {\n        val.length > 0 && (valid = false);\n    });\n\n\n    Object.values(rest).forEach(val => {\n        val === null && (valid = false);\n    });\n\n    return valid;\n};\nvar addressboxcount = 0;\n\nconst addressArray = {\n    id: '',\n    address: '',\n    city: '',\n    country: '',\n    state: '',\n    stateid: '',\n    zipcode: '',\n    formErrors: {\n        address: '',\n        city: '',\n        country: '',\n        state: '',\n        zipcode: ''\n\n    }\n}\n\nclass PersonalDetailsFormComponents extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            file: null,\n            firstname: '',\n            lastname: '',\n            mobilenumber: '',\n            email: '',\n            dob: '',\n            gender: '',\n            maritalstatus: '',\n            termsandconditions: false,\n            show: false,\n            formErrors: {\n                firstname: '',\n                lastname: '',\n                mobilenumber: '',\n                email: '',\n                dob: '',\n                gender: '',\n                maritalstatus: '',\n                termsandconditions: '',\n\n            },\n            addressBoxList: [{\n                id: '',\n                address: '',\n                city: '',\n                country: '',\n                state: '',\n                stateid: '',\n                zipcode: '',\n                formErrors: {\n                    address: '',\n                    city: '',\n                    country: '',\n                    state: '',\n                    zipcode: ''\n                }\n            }\n            ],\n\n        }\n\n    };\n\n\n\n    handleSubmit = async e => {\n        e.preventDefault();\n        console.log(\"this.state ==>\", this.state)\n        this.props.userauth();\n        console.log(\"this.props.auth==>\",this.props.auth)\n        if (this.props.auth === true) {\n            if (formValid(this.state)) {\n                console.log(\"submitcalled\")\n                fetch('http://127.0.0.1:5000/users/create', {\n                    method: 'POST',\n                    headers: { 'Content-type': 'application/json' },\n                    body: JSON.stringify(this.state)\n                }).then(r => r.json())\n                    .then(res => {\n                        if (res) {\n                            console.log(\"response==>\", res)\n                            // this.setState({ show: true })\n                            let data = new FormData();\n                            data.append(\"file\", this.state.file[0]);\n                            console.log(\"data==>\", this.state.file[0])\n                            fetch(`http://127.0.0.1:5000/users/upload/image/${res}`, {\n                                method: 'POST',\n                                headers: {},\n                                body: data\n                            }).then(r => r.json())\n                                .then(res => {\n                                    if (res) {\n                                        this.setState({ show: true })\n                                        console.log(\"response==>\", res)\n                                    }\n                                })\n                        }\n                    })\n\n            } else {\n                console.error(\"FORM INVALID - DISPLAY ERROR MESSAGE\");\n            }\n        }\n\n        // console.log(\"userauth data ========>\",this.props.userauth)\n\n    };\n\n\n\n    handleChange = e => {\n        // e.preventDefault();\n        const { name, value } = e.target;\n        let formErrors = { ...this.state.formErrors };\n\n        switch (name) {\n            case \"firstname\":\n                formErrors.firstname =\n                    value.length < 3 ? \"Minimum 3 characaters required!\" : \"\";\n                break;\n            case \"lastname\":\n                formErrors.lastname =\n                    value.length < 3 ? \"Minimum 3 characaters required!\" : \"\";\n                break;\n            case \"email\":\n                formErrors.email = emailRegex.test(value)\n                    ? \"\"\n                    : \"Please Enter a valid Email Id\";\n                break;\n            case \"mobilenumber\":\n                formErrors.mobilenumber = mobilenumberRegex.test(value)\n                    ? \"\"\n                    : \"Please Enter a Valid 10 Digit Mobile Number\";\n                break;\n            case \"dob\":\n                formErrors.dob = dobRegex.test(value)\n                    ? \"\"\n                    : \"Please Enter Valid Date Of Birth\";\n                break;\n            case \"maritalstatus\":\n                formErrors.maritalstatus = (value === \"\")\n                    ? \"Please Select Marital Status!\"\n                    : \"\";\n                break;\n            default:\n                break;\n        }\n        this.setState({ formErrors, [name]: value }, () => console.log(this.state));\n    };\n\n    handleFileChange = e => {\n        const { name, files } = e.target;\n        this.setState({ file: files });\n    }\n\n\n    addaddressbox = () => {\n\n        const val = this.state.addressBoxList;\n        addressboxcount += 1;\n        val.push(addressArray);\n        this.setState({ addressBoxList: val })\n        this.setState({ rowlen: val.length })\n        console.log(\"address box count\", addressboxcount);\n        console.log(\"address box array\", this.state.addressBoxList);\n    };\n\n\n\n    removeaddressbox = () => {\n\n        const val = this.state.addressBoxList;\n        val.splice(-1);\n        addressboxcount -= 1;\n        this.setState({ addressBoxList: val })\n        this.setState({ rowlen: val.length })\n        console.log(\"address box count\", addressboxcount);\n        console.log(\"address box array\", this.state.addressBoxList);\n\n    };\n\n    handleAddressChange = (e) => {\n        // e.preventDefault();\n        const { name, value } = e.target;\n        let formErrors = { ...this.state.formErrors };\n\n        switch (name) {\n            case \"address\":\n                formErrors.address =\n                    value.length < 6 ? \"Please Enter Valid Address!\" : \"\";\n                break;\n            case \"city\":\n                formErrors.city =\n                    value.length < 4 ? \"Please Enter Valid City!\" : \"\";\n                break;\n            case \"zipcode\":\n                formErrors.zipcode = (value.length < 4 || value.length > 9 || /[0-9]/.test(value) === false)\n                    ? \"Please Enter Valid ZipCode!\"\n                    : \"\";\n                break;\n            default:\n                break;\n        }\n        this.setState({ formErrors, [name]: value }, () => console.log(this.state));\n    };\n\n\n    handleChildState = (state, item) => {\n        console.log(\"address state  =>\", state);\n        console.log(\"address item  =>\", item);\n        this.setState(update(this.state, {\n            addressBoxList: {\n                [item]: {\n                    $set: state\n                }\n            }\n        }));\n    }\n\n\n    render() {\n        const { formErrors } = this.state;\n        const statedata = this.state;\n        const handleClose = () => this.setState({ show: false });\n\n        return (\n            <div>\n\n                <Form onSubmit={this.handleSubmit} >\n                    <div className=\"form-div row\">\n\n                        <FormInput className=\"col-md-4\" label=\"User Image\" name=\"file\" type=\"file\" placeholder=\"Select User image\" onChange={this.handleFileChange} />\n\n                        <FormInput className=\"col-md-4\" inputClassName={formErrors.firstname.length > 0 ? \"error\" : \"\"}\n                            label=\"First Name\" name=\"firstname\" type=\"text\" placeholder=\"Enter First Name\"\n                            errorMessage={formErrors.firstname.length > 0 && (<span className=\"errormessage\">{formErrors.firstname}</span>)} onChange={this.handleChange} />\n\n                        <FormInput className=\"col-md-4\" inputClassName={formErrors.lastname.length > 0 ? \"error\" : \"\"}\n                            errorMessage={formErrors.lastname.length > 0 && (<span className=\"errormessage\">{formErrors.lastname}</span>)} onChange={this.handleChange}\n                            label=\"Last Name\" name=\"lastname\" type=\"text\" placeholder=\"Enter Last Name\" />\n\n                        <FormInput className=\"col-md-4\" inputClassName={formErrors.mobilenumber.length > 0 ? \"error\" : \"\"}\n                            errorMessage={formErrors.mobilenumber.length > 0 && (<span className=\"errormessage\">{formErrors.mobilenumber}</span>)}\n                            onChange={this.handleChange} label=\"Mobile Number\" name=\"mobilenumber\" type=\"tel\" placeholder=\"Enter Mobile Number\" />\n\n\n                        <FormInput className=\"col-md-4\" inputClassName={formErrors.email.length > 0 ? \"error\" : \"\"}\n                            errorMessage={formErrors.email.length > 0 && (<span className=\"errormessage\">{formErrors.email}</span>)}\n                            label=\"Email\" name=\"email\" type=\"email\" placeholder=\"Enter Email Id\" onChange={this.handleChange} />\n\n                        <FormInput className=\"col-md-2\" label=\"Date of Birth\" name=\"dob\" type=\"date\" placeholder=\"Date of Birth\"\n                            inputClassName={formErrors.dob.length > 0 ? \"error\" : \"\"} onChange={this.handleChange}\n                            errorMessage={formErrors.dob.length > 0 && (<span className=\"errormessage\">{formErrors.dob}</span>)} />\n                        <Form.Group className=\"col-md-2\">\n                            <Form.Label>Gender</Form.Label>\n                            <div>\n                                <Form.Check\n                                    inline=\"true\"\n                                    className=\"box\"\n                                    type=\"radio\"\n                                    id=\"male\"\n\n                                    name=\"gender\"\n                                    value=\"male\"\n                                    onChange={this.handleChange}\n                                    required />\n                                <Form.Label inline=\"true\" htmlFor=\"male\" className=\"label1\" >Male</Form.Label>\n\n                                <Form.Check\n                                    inline=\"true\"\n                                    id=\"female\"\n\n                                    type=\"radio\"\n                                    name=\"gender\"\n                                    value=\"female\"\n                                    onChange={this.handleChange}\n                                    required />\n                                <Form.Label inline=\"true\" htmlFor=\"female\" className=\"label2\">Female</Form.Label>\n                            </div>\n                        </Form.Group>\n\n                        <Form.Group className=\"col-md-4\">\n                            <Form.Label>Marital Status</Form.Label>\n                            <Form.Control name=\"maritalstatus\" as=\"select\"\n                                className={formErrors.maritalstatus.length > 0 ? \"error\" : \"\"} onChange={this.handleChange} required>\n                                <option value=\"\">---Select Marital Status---</option>\n                                <option value=\"single\">Single</option>\n                                <option value=\"married\">Married</option>\n                            </Form.Control>\n                            {formErrors.maritalstatus.length > 0 && (<span className=\"errormessage\">{formErrors.maritalstatus}</span>)}\n                        </Form.Group>\n\n                        {this.state.addressBoxList.map((key, item) => (\n\n                            <AddressBox key={key} item={item} handleChildState={this.handleChildState.bind(this)} addaddressbox={this.addaddressbox} statedata={statedata} handleAddressChange={() => this.handleAddressChange(item)} removeaddressbox={this.removeaddressbox} rowlength={this.state.rowlen} />\n\n                        ))}\n\n                        <Form.Group>\n                            <Form.Check type=\"checkbox\" id=\"termsandconditions\" inline=\"true\" required />\n                            <Form.Label htmlFor=\"termsandconditions\" inline=\"true\" name=\"termsandconditions\">Agree to terms & conditions</Form.Label>\n                        </Form.Group>\n                        <div className=\"button-div\">\n                            <Button className=\"submit-button\" type=\"submit\">Submit Form</Button>\n\n                            <Link href=\"/search\">\n                                <Button className=\"submit-button\" variant=\"info\" style={{ marginLeft: \"15px\" }}>Search Users By State</Button>\n                            </Link>\n                        </div>\n                    </div>\n                </Form>\n                <Modal show={this.state.show} onHide={handleClose}>\n                    <Modal.Header closeButton>\n                        <Modal.Title>Report</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>New User {this.state.firstname} {this.state.lastname} is Created.</Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"primary\" onClick={handleClose}>\n                            Close\n                        </Button>\n                    </Modal.Footer>\n                </Modal>\n\n            </div>\n        );\n    }\n}\n\nexport default PersonalDetailsFormComponents;"]},"metadata":{},"sourceType":"module"}